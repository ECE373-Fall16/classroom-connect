language: php
sudo: required
php:
    - '5.4'
    - '5.5'
    - '5.6'
    - '7.0'
    - '7.1'
    
script: phpunit --configuration phpunit.xml --coverage-text
addons:
  apt:
    packages:
    - mysql-server-5.6
    - mysql-client-core-5.6
    - mysql-client-5.6
before_script:
  - mysql -u root -e 'CREATE DATABASE CLASSROOMCONNECT;'
  - echo "USE mysql;\nUPDATE user SET password=PASSWORD('root') WHERE user='root';\nFLUSH PRIVILEGES;\n" | mysql -u root
